<!-- Add User Modal Overlay -->
<div id="addUserOverlay" 
    class="fixed inset-0 bg-gray-800 bg-opacity-50 hidden z-[999] transition-opacity duration-300 opacity-0"
    ontransitionend="handleOverlayTransitionEnd(event)">
</div>

<!-- Add User Modal -->
<div id="addUserModal" 
    class="fixed inset-0 flex justify-center items-center z-[1000] hidden opacity-0 transition-opacity duration-300"
    ontransitionend="handleModalTransitionEnd(event)">
    <div class="bg-white dark:bg-gray-800 shadow-lg w-full max-w-lg p-6 rounded-lg">
        <!-- Modal Header -->
        <h2 class="text-lg font-semibold text-gray-700 dark:text-white mb-6 text-center">Add User</h2>
        
        <!-- Form -->
        <form id="addUserForm" enctype="multipart/form-data" method="post" action="/add-user">
            <!-- Profile Picture -->
            <div class="mb-6 text-center">
                <label for="profile_picture" class="block text-gray-700 dark:text-gray-300 font-medium mb-2">Profile Picture</label>
                <!-- Preview -->
                <div class="mb-4">
                    <img 
                        id="profilePicturePreview" 
                        src="/path/to/default-profile.png" 
                        alt="Profile Picture Preview" 
                        class="w-24 h-24 rounded-full mx-auto border"
                    />
                </div>
                <input 
                    type="file" 
                    id="profile_picture" 
                    name="profile_picture" 
                    accept="image/*" 
                    class="border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full"
                    onchange="previewProfilePicture(event)"
                />
            </div>

            <!-- Personal Information -->
            <div class="grid grid-cols-2 gap-4">
                <!-- First Name -->
                <div>
                    <label for="first_name" class="block text-sm font-medium text-gray-700 dark:text-gray-300">First Name</label>
                    <input 
                        type="text" 
                        id="first_name" 
                        name="first_name" 
                        class="w-full border rounded-lg px-4 py-2 mt-1 dark:bg-gray-700 dark:text-white" 
                        required
                    />
                </div>
                <!-- Last Name -->
                <div>
                    <label for="last_name" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Last Name</label>
                    <input 
                        type="text" 
                        id="last_name" 
                        name="last_name" 
                        class="w-full border rounded-lg px-4 py-2 mt-1 dark:bg-gray-700 dark:text-white" 
                        required
                    />
                </div>
            </div>

            <!-- Username -->
            <div class="mt-4">
                <label for="username" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Username</label>
                <input 
                    type="text" 
                    id="username" 
                    name="username" 
                    class="w-full border rounded-lg px-4 py-2 mt-1 dark:bg-gray-700 dark:text-white" 
                    required
                />
            </div>

            <!-- Email Address -->
            <div class="mt-4">
                <label for="email_address" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Email Address</label>
                <input 
                    type="email" 
                    id="email_address" 
                    name="email_address" 
                    class="w-full border rounded-lg px-4 py-2 mt-1 dark:bg-gray-700 dark:text-white" 
                    required
                />
            </div>

            <!-- Contact Information -->
            <div class="mt-4">
                <label for="contact_no" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Contact No</label>
                <input 
                    type="text" 
                    id="contact_no" 
                    name="contact_no" 
                    class="w-full border rounded-lg px-4 py-2 mt-1 dark:bg-gray-700 dark:text-white" 
                    required
                />
            </div>

            <!-- Additional Details -->
            <div class="grid grid-cols-2 gap-4 mt-4">
                <!-- Gender -->
                <div>
                    <label for="gender" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Gender</label>
                    <select 
                        id="gender" 
                        name="gender" 
                        class="w-full border rounded-lg px-4 py-2 mt-1 dark:bg-gray-700 dark:text-white" 
                        required
                    >
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                    </select>
                </div>
                <!-- Role -->
                <div>
                    <label for="role" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Role</label>
                    <select 
                        id="role" 
                        name="role" 
                        class="w-full border rounded-lg px-4 py-2 mt-1 dark:bg-gray-700 dark:text-white" 
                        required
                    >
                        <option value="administrator">Administrator</option>
                        <option value="inventory_manager">Inventory Manager</option>
                        <option value="finance_manager">Finance Manager</option>
                        <option value="hr_manager">HR Manager</option>
                        <option value="staff">Staff</option>
                    </select>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="mt-6 flex justify-end space-x-4">
                <button 
                    type="button" 
                    class="bg-gray-500 text-white py-2 px-4 rounded-lg hover:bg-gray-600" 
                    onclick="closeAddUserModal()"
                >
                    Cancel
                </button>
                <button 
                    type="submit" 
                    class="bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600"
                >
                    Add
                </button>
            </div>
        </form>
    </div>
</div>
